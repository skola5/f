<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dino Jumper</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
</head>
<body>
    <script>
        let dinoImg, cigImg;
        let dinoX, dinoY, dinoVelocityY;
        let gravity = 0.8;
        let jumpPower = -15;
        let groundY;
        let cacti = [];
        let score = 0;
        let gameOver = false;

        function preload() {
            dinoImg = loadImage('dino.png');
            cigImg = loadImage('cig.png');
        }

        function setup() {
            createCanvas(800, 400);
            dinoX = 100;
            groundY = height - 50;
            dinoY = groundY;
            dinoVelocityY = 0;
        }

        function draw() {
            background(255);
            
            // Draw ground
            stroke(0);
            line(0, groundY, width, groundY);
            
            if (!gameOver) {
                // Update dino
                dinoVelocityY += gravity;
                dinoY += dinoVelocityY;
                if (dinoY > groundY) {
                    dinoY = groundY;
                    dinoVelocityY = 0;
                }
                // Draw dino larger and lower
                image(dinoImg, dinoX, dinoY - dinoImg.height + 20, 80, 80);
                
                // Spawn cacti
                if (frameCount % 60 === 0) {
                    cacti.push({ x: width, y: groundY - 60 });
                }
                
                // Update and draw cacti (larger)
                for (let i = cacti.length - 1; i >= 0; i--) {
                    cacti[i].x -= 5;
                    image(cigImg, cacti[i].x, cacti[i].y, 50, 60);
                    
                    // Collision detection adjusted for larger sizes
                    if (cacti[i].x > dinoX - 50 && cacti[i].x < dinoX + 80 &&
                        dinoY > cacti[i].y - 60) {
                        gameOver = true;
                    }
                    
                    // Remove off-screen cacti
                    if (cacti[i].x < -50) {
                        cacti.splice(i, 1);
                    }
                }
                
                // Update score
                score += 0.1;
            } else {
                textSize(32);
                textAlign(CENTER);
                text('Game Over! Score: ' + floor(score), width / 2, height / 2);
            }
            
            // Draw score
            textSize(20);
            textAlign(LEFT);
            text('Score: ' + floor(score), 10, 30);
        }

        function keyPressed() {
            if (keyCode === 32 && dinoY >= groundY && !gameOver) {
                dinoVelocityY = jumpPower;
            }
        }
    </script>
</body>
</html>
